:doctype: book
:doctitle: Cahier des charges: Team Activ' Dash Board as a Service
:docdate: 02/09/2022
:docupdate: 02/09/2022
:imagesdir: images
:icons: font
:title-logo-image: image:TeamActivDashBoard.png[top=-7%, position=center, pdfwidth=7in]
:page-foreground-image: images/watermark.png
:toc: auto
:toc-title: Table des matières
:pdf-style: OuiCloud-Specs
:pdf-stylesdir: {docdir}
:pdf-themesdir: {docdir}/themes
:pdf-fontsdir: {docdir}/fonts
= {doctitle}
OuiCloud Software
v1.0-DRAFT, 05/09/2022
<<<
== Dash Board as a Service

=== Présentation

Fondée en 2014, la société Team Activ' est spécialisée dans le secteur des services administratifs.

Ses clients sont des PME, professionnels libéraux, associations et startups dans des secteurs variés.

Ses services leur permettent d’externaliser tout ou partie de leurs fonctions supports : services généraux, administratif, ressources humaines, comptabilité, finances, et suivi de projets, afin qu'ils se concentrent sur leur cœur de métier.

La société a fusionné avec le groupement de crèches Maia Village dont elle avait auparavant la gestion.

=== Analyse de l'existant

Le tableau de bord, destiné aux dirigeants de Team Activ', a pour but de  faciliter et améliorer le pilotage de l'entreprise et des crèches dont elle a la charge. 

Il permet de rassembler en un document unique les principaux indicateurs de suivi et pilotage disséminés dans plusieurs outils et permet ainsi d’analyser les informations facilement, au travers de tableaux synthétiques et de visuels.

La réalisation du tableau de board est actuellement à la charge de la Directrice Administrative et Financière qui agrège manuellement les données dans différents tableaux Excel afin de rédiger un résumé sous la forme d'une présentation PowerPoint. 

Ce tableau de bord présente, pour chaque structure, notamment : 

* l'évolutions des produits d'exploitation
** le taux d'occupation des crèches
** le taux de facturation aux parents
** le tarif horaire PSU
** le taux de participation CAF au budget
** le montant de la PSU
* l'évolutions des charges d'exploitation
** le coût de revient
* l'évolutions des résultats d'exploitation

=== Objectifs

La mise en œuvre du logiciel-service (SaaS) doit permettre l'automatisation de tout ou partie de la production du tableau de bord, de son accès en ligne depuis différents types de terminaux (mobiles, tablettes ou ordinateurs) et ce de façon privée et sécurisée. 

Il doit s’intégrer dans le système d’information existant et doit pouvoir intégrer des données multiples de différentes sources de la façon la plus automatisée et la moins chronophage : 

* les données pourront être intégrées automatiquement par le recours d'API
* les données pourront être importées de tableaux via des formulaires
* les saisies manuelles devront être réduites au minimum

Dans un premier temps, ce logiciel-service doit pouvoir reproduire en l'état les rapports présent de le document PowerPoint en automatisant : 

* l'agrégation des données
* la production données dérivées
* la génération des tableaux et des graphiques
* l'export des tableaux et des graphiques

Il doit de plus être suffisamment modulable et flexible pour que, dans un second temps, il puisse permettre à ses utilisateurs d'afficher d'autres indicateurs, tableaux et graphiques, définir des alertes et des notifications selon certains seuils. 

=== Sécurité et confidentialité

==== Authentification et autorisation
Le logiciel-service doit fournir un service d'authentification multifactorielle ainsi qu'un mécanisme de gestion de droits d'accès afin de garantir la sécurité et la confidentialité des données. 

Le logiciel-service doit fournir un service d'administration des identifiants et des droits d'accès.

==== RGPD et chiffrement de bout en bout
De part la nature sensible des données, le logiciel-service doit, dans la mesure du possible, sauvegarder uniquement des données anonymisées, synthèses, agrégations de données ou le cas échéant, randomisation. 

De plus, il doit, au mieux, chiffrer de bout en bout les données, au pire, chiffrer les données au repos.

=== Ergonomie et graphisme

==== Structure du site du logiciel-service

[plantuml, target=site-map, format=png]
----
left to right direction

component [/] as home
component [/about] as about
component [/imprint] as imprint
component [/conditions] as conditions
component [/logout] as logout

home -left-> about
home -left-> imprint
home -left-> conditions

package "Config" {
    component [/config] as config
    component [/config/update] as config1

    config --> config1
}

package "Import" {
    component [/import] as import
    component [/import/nursery_data] as import1
    component [/import/account_statement] as import2

    import --> import1
    import --> import2
}

package "Dashboard" {
    component [/dashboard] as dashboard
    component [/dashboard/entities] as dashboard1
    component [/dashboard/entity/{entity_id}] as dashboard2
    component [/dashboard/entity/{entity_id}/remark] as dashboard3
    component [/dashboard/entity/{entity_id}/remark/insert] as dashboard4
    component [/dashboard/entity/{entity_id}/remark/update] as dashboard5
    component [/dashboard/entity/{entity_id}/remark/delete] as dashboard6

    dashboard --> dashboard1
    dashboard --> dashboard2
    dashboard --> dashboard3
    dashboard3 --> dashboard4
    dashboard3 --> dashboard5
    dashboard3 --> dashboard6
}

package "Export" {
    component [/export] as export
    component [/export/pdf] as export1
    component [/export/csv] as export2
    component [/export/excel] as export3

    export --> export1
    export --> export2
    export --> export3
}

package "Admin" {
    component [/admin] as admin
    component [/admin/users] as admin1
    component [/admin/users/insert] as admin2
    component [/admin/user/{user_id}] as admin3
    component [/admin/user/{user_id}/update] as admin4
    component [/admin/user/{user_id}/delete] as admin5

    admin --> admin1
    admin --> admin2
    admin --> admin3
    admin3 --> admin4
    admin3 --> admin5
}

home -down-> admin
home -down-> config
home -down-> dashboard
home -down-> export
home -down-> import

import    -left-> logout
dashboard -left-> logout
admin     -left-> logout
----

<<<

==== Charte graphique
La charte graphique du logiciel-service doit être conforme à la charte graphique du groupe Maia Village. 
Ci-dessous, en exemple, une page du site Internet de Maia Village. 

image::www.maiavillage.com.png[]

Les points notables sont : 

* la couleur principale du thème est le orange (#E18653)
* la police principale du thème est Brandon Grot W01
* la police utilisée pour les citations est Georgia
* les logos des crèches en forme de fleur, ex.: 

image::logo-les-jasmins.png[]

<<<

=== Accessibilité

==== Design
Le logiciel-service sera doté d'un design « Responsive » : 

* compatible aux mobiles et tablettes
* optimisé pour des tablettes dont la taille d’écran est suffisante
* fonctionnel à 100% avec tous les navigateurs (Chrome, Firefox, Internet Explorer, Safari, Système Android, etc...)
* compatible PC et Mac

==== Structure des pages html
Tous les contenus sont intégrés de façon « sémantique », c’est à dire en respectant le sens du langage HTML. 
Ceci permet aux moteurs de recherche de mieux comprendre et de mieux indexer les pages :

* <h1> : titre de page, redondant avec la balise « title » de la page
* <h2> : titre de partie de page
* <h3> : sous titre de la partie de page
* <p> : paragraphe
* <nav> : menu de navigation
* Respect d’une charte internationale pour les noms des styles

==== Cohérence entre URL et le plan du site
Le logiciel-service doit être conçu avec des URL (adresses de vos pages) explicites, contenant les mots clés importants et respectent le codage linguistique international. 

==== Respect des normes W3C
A travers la réalisation proposée, OuiCloud s’engage à respecter les normes présentées ci-dessous, grâce aux outils de contrôle et de validation fournis par les organismes mondiaux habilités.
Les pages livrées seront encodées au format XHTML5 et CSS3, testées par le W3C Markup Validation Service.

<<<

=== Intégration

==== Hébergement et sauvegarde
Le logiciel-service doit s'intégré au service d'hébergement en place pour les sociétés Team Activ' et Maia Village. 

Les données traitées et enregistrées par le logiciel-service doivent également s'intégrer au système de sauvegarde en place pour les sociétés Team Activ' et Maia Village. 

==== Possibilité d'évolution
Le logiciel-service doit être évolutif et permettre techniquement la possibilité d'ajouter de nouvelles fonctionnalités ou d'en améliorer certaines déjà existantes.

=== Planning de réalisation
Tout au long du processus de réalisation du logiciel-service, des allers-retours et réunions de pilotage du projet seront à planifier tous les deux ou trois jours ouvrés. 

==== Maquettes
Une première maquette du site devra être présentée au plus tard cinq jours ouvrés après la validation du devis. 

Un B.A.T signé par les deux parties validera la maquette finale.

==== Lancement de la version de pré-production
Une version de pré-production devra être présenté au plus tard dix jours ouvrés après la validation du devis. 

==== Tests finaux
A partir du onzième jour jusqu'au quinzième jours ouvrés après la validation du devis, le logiciel-service devra être soumis aux tests finaux des utilisateurs. 

Un B.A.T devra être signé par les deux parties avant publication.

<<<

=== Moyens et matériels pour le développement
 
[plantuml, target=dev-stack, format=png]
----

package "Javascript" {
    cloud {
        component [HTML5] as html
        component [CSS3] as css
    }
}

package "Rust" {
    node {
        component [Yew] as yew
        component [Axum] as axum
    }
}

package "SQL" {
    database "PostgreSql" {
        component [Dashboard] as dashboard
    }
}

package "Vault" {
    component [HashiCorp Vault] as vault
}

package "Monitoring" {
    node {
        component [Prometheus] as prometheus
        component [Grafana] as grafana
    }
}

package "Container" {
    component [Docker] as docker
}

package "Server" {
    component [Linux] as linux
}

html -down-> yew
css -down-> yew
yew -down-> axum
yew -right-> vault
axum -right-> dashboard
axum -left-> prometheus
prometheus -down-> grafana
axum -down-> docker
dashboard -down-> docker
prometheus -down-> docker
docker -down-> linux

----
